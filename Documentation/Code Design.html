<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN"
"http://www.w3.org/TR/2001/REC-MathML2-20010221/dtd/xhtml-math11-f.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>Code Design</title>

	<meta name="format" content="complete"/>
  <style type="text/css">
/* +++ master +++ */
/* html elements */

body {
    margin: 0;
    padding: 0;
    border: 0;
    vertical-align: baseline;
    overflow:hidden;
    background-color: #f2f2f2;
    color: #3c3c3c;
    font-size: 62.5%;
    -webkit-font-smoothing: antialiased;
}
a {
    color: #308bd8;
    text-decoration:none;
}
a:hover {
    text-decoration: underline;
}
/* headings */
h1, h2 {
    line-height:1.2em;
    margin-top:32px;
    margin-bottom:12px;
}
h1:first-child {
    margin-top:0;
}
h3, h4, h5, h6 {
    margin-top:12px;
    margin-bottom:6px;
}
h5, h6 {
    font-size:0.9em;
    line-height:1.0em;
    margin-bottom:0;
}
/* end of headings */
p {
    margin:0 0 24px 0;
}
p:last-child {
    margin-bottom:0;
}
hr {
    width: 100%;
    margin: 3em auto;
    border: 0;
    color: #eee;
    background-color: #ccc;
    height: 1px;
    -webkit-box-shadow:0px 1px 0px rgba(255, 255, 255, 0.75);
}
/* lists */
ol {
    list-style: outside decimal;
}
ul {
    list-style: outside disc;
}
ol, ul {
    padding-left:0;
    margin-bottom:24px;
}
ol li {
    margin-bottom:16px;
    margin-left:28px;
}
ul li {
    margin-bottom:16px;
    margin-left:16px;
}
li:last-child {
    margin-bottom:0;
}
li > p {
    margin-bottom:12px;
}
li > ol, li > ul {
    margin-top: 16px !important;
    padding-left:16px;
}
dl {
    margin-bottom:24px;
}
dl dt {
    font-weight:bold;
    margin-bottom:8px;
}
dl dd {
    margin-left:0;
    margin-bottom:12px;
}
dl dd:last-child, dl:last-child {
    margin-bottom:0;
}
/* end of lists */
pre {
    white-space: pre-wrap;
    width: 96%;
    margin-bottom: 24px;
    overflow: hidden;
    padding: 3px 10px;
    -webkit-border-radius: 3px;
    background-color: #eee;
    border: 1px solid #ddd;
}
code {
    white-space: nowrap;
    font-size: 1.1em;
    padding: 2px;
    -webkit-border-radius: 3px;
    background-color: #eee;
    border: 1px solid #ddd;
}
pre code {
    white-space: pre-wrap;
    border: none;
    padding: 0;
    background-color: transparent;
    -webkit-border-radius: 0;
}
blockquote {
    margin-left: 0;
    margin-right: auto;
    width: 96%;
    padding: 0 10px;
    border-left: 3px solid #ddd;
    color: #777;
}
table {
    margin-left: auto;
    margin-right: auto;
    margin-bottom: 24px;
    border-bottom: 1px solid #ddd;
    border-right: 1px solid #ddd;
    border-spacing: 0;
}
table th {
    padding: 3px 10px;
    background-color: #eee;
    border-top: 1px solid #ddd;
    border-left: 1px solid #ddd;
}
table tr {
}
table td {
    padding: 3px 10px;
    border-top: 1px solid #ddd;
    border-left: 1px solid #ddd;
}
caption {
    font-size: 1.2em;
    font-weight: bold;
    margin-bottom: 5px;
}
figure {
    display: block;
    text-align: center;
}
img {
    display: block;
    text-align: center;
    border: none;
    margin: 1em auto;
    max-width: 100%;
}
figcaption {
    font-size: 0.8em;
    font-style: italic;
}
mark {
    background: #fefec0;
    padding:1px 3px;
}

/* unique elements */

#wrapper {
    position: fixed;
    width: 99.9%;
    height: 100%;
    overflow-y: scroll;
    overflow-x: hidden;
    font-size: 1.0em;
}
#content {
    width: 610px;
    margin: 0 auto 0 auto;
    padding: 30px 0 30px 0;
    font-family: 'Cochin', Palatino, Georgia, serif;
    font-size: 1.7em;
    line-height: 1.400000em;
}

#wrapper::-webkit-scrollbar {
    width: 8px;
    height: 10px;
    -webkit-transition: all .45s ease-in;
    position: relative;
}
#wrapper::-webkit-scrollbar-button:start:decrement, #wrapper::-webkit-scrollbar-button:end:increment {
    height: 0px;
    display: block;
    background-color: transparent;
}
#wrapper::-webkit-scrollbar-track-piece {
    background-color:
    transparent;
    -webkit-border-radius: 6px;
}
#wrapper::-webkit-scrollbar-thumb:vertical {
    height: 50px;
    background-color: #c8c8c8;
    -webkit-border-radius: 6px;
    -webkit-transition: all .45s ease-in;
}

/* classes */

.markdowncitation {
}
.footnote {
    font-size: 0.8em;
    vertical-align: super;
}
.footnotes ol {
    font-weight: bold;
}
.footnotes ol li p {
    font-weight: normal;
}

/* custom formatting classes */

.shadow {
    -webkit-box-shadow: 0 2px 4px #999;
}

.source {
    text-align: center;
    font-size: 0.8em;
    color: #777;
    margin: -40px;
}
/* --- master --- */
/* +++ export overrides +++ */
#wrapper {
    width: 99.9%;
}
#content {
    width: 610px;
    margin-left: auto;
    margin-right: auto;
}

/* Mobile support */
@media only screen and (max-device-width:1024px) {
    html {
        overflow: auto;
    }

    #wrapper {
        overflow: auto;
        position: relative;
    }
}
/* --- export overrides --- */
/* Printing support (Print and export to PDF).
 * Override all printing colors to match the Light theme.
 */
@media print {
    img, pre, blockquote, table, figure {
        page-break-inside: avoid;
    }
    body {
        background-color:#fff;
    }
    #wrapper {
        position: static;
        overflow: hidden;
        color: #3c3c3c;
        width: 100%;
        margin: 0 auto;
    }
    .footnotes {
        page-break-before: always;
    }
    #content {
        margin: 0 auto;
        padding: 0;
        width: 98%;
    }
    #top-fader, #bottom-fader {
        display: none;
    }
    a {
        color: #3c3c3c;
    }
    hr {
        color:#ddd;
        background-color:#ddd;
        -webkit-box-shadow:0px 1px 0px #ddd;
    }
    pre {
        background-color:transparent;
        border: 1px solid #ddd;
    }
    code {
        background-color:transparent;
        border: 1px solid #ddd;
    }
    blockquote {
        border-left: 3px solid #ddd;
        color: #3c3c3c;
    }
    table {
        border-bottom: 1px solid #ddd;
        border-right: 1px solid #ddd;
    }
    table th {
        background-color:transparent;
        border-top: 1px solid #ddd;
        border-left: 1px solid #ddd;
    }
    table td {
        border-top: 1px solid #ddd;
        border-left: 1px solid #ddd;
    }
    mark {
        background:transparent;
        color: #3c3c3c;
    }
    .source {
        color: #3c3c3c;
    }
}
  </style>
</head>
<body>
  <div id="wrapper">
    <div id="content">
<h1>Space Archery Base Engine - Rev. 05</h1>

<table>
<colgroup>
<col style="text-align:left;"/>
<col style="text-align:left;"/>
<col style="text-align:left;"/>
<col style="text-align:left;"/>
<col style="text-align:left;"/>
</colgroup>

<thead>
<tr>
	<th style="text-align:left;">Completed</th>
	<th style="text-align:left;">Priority</th>
	<th style="text-align:left;">Object</th>
	<th style="text-align:left;">Model</th>
	<th style="text-align:left;">Script</th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;">Yes</td>
	<td style="text-align:left;">Critical</td>
	<td style="text-align:left;">Setup Git + Github</td>
	<td style="text-align:left;">None</td>
	<td style="text-align:left;">None</td>
</tr>
<tr>
	<td style="text-align:left;">Yes</td>
	<td style="text-align:left;">Integral</td>
	<td style="text-align:left;">Arrow</td>
	<td style="text-align:left;">ArrowModel</td>
	<td style="text-align:left;">Arrow.cs + ArrowAstAlt.cs + ArrowStickyAlt.cs</td>
</tr>
<tr>
	<td style="text-align:left;">Partial</td>
	<td style="text-align:left;">Integral</td>
	<td style="text-align:left;">Player</td>
	<td style="text-align:left;">PlayerModel</td>
	<td style="text-align:left;">Bow.cs, Player.cs</td>
</tr>
<tr>
	<td style="text-align:left;">Yes</td>
	<td style="text-align:left;">Integral</td>
	<td style="text-align:left;">Map</td>
	<td style="text-align:left;">Skybox</td>
	<td style="text-align:left;">None</td>
</tr>
<tr>
	<td style="text-align:left;">Yes</td>
	<td style="text-align:left;">Integral</td>
	<td style="text-align:left;">Target</td>
	<td style="text-align:left;">Cube</td>
	<td style="text-align:left;">None; assign collider and &#8220;Target&#8221; tag</td>
</tr>
<tr>
	<td style="text-align:left;">Partial</td>
	<td style="text-align:left;">Integral</td>
	<td style="text-align:left;">GravBody</td>
	<td style="text-align:left;">Sphere</td>
	<td style="text-align:left;">Gravity.cs + Wall.cs</td>
</tr>
<tr>
	<td style="text-align:left;">Yes</td>
	<td style="text-align:left;">Integral</td>
	<td style="text-align:left;">Wormhole</td>
	<td style="text-align:left;">Unity Primitive</td>
	<td style="text-align:left;">Wormhole.cs</td>
</tr>
<tr>
	<td style="text-align:left;">Partial</td>
	<td style="text-align:left;">Integral</td>
	<td style="text-align:left;">Unguided Missile</td>
	<td style="text-align:left;">RocketModel w/ different texture</td>
	<td style="text-align:left;">EnemyMissile.cs + EnemyMissileSpawner.cs</td>
</tr>
<tr>
	<td style="text-align:left;">Yes</td>
	<td style="text-align:left;">Integral</td>
	<td style="text-align:left;">Guided Missile</td>
	<td style="text-align:left;">RocketModel w/ different texture</td>
	<td style="text-align:left;">SeekerMissile.cs</td>
</tr>
<tr>
	<td style="text-align:left;">Yes</td>
	<td style="text-align:left;">Integral</td>
	<td style="text-align:left;">Wall</td>
	<td style="text-align:left;">Unity Primitive</td>
	<td style="text-align:left;">Wall.cs</td>
</tr>
<tr>
	<td style="text-align:left;">Yes</td>
	<td style="text-align:left;">Integral</td>
	<td style="text-align:left;">Repulsor</td>
	<td style="text-align:left;">Unity Primitive</td>
	<td style="text-align:left;">Repulsor.cs</td>
</tr>
<tr>
	<td style="text-align:left;">No</td>
	<td style="text-align:left;">Integral</td>
	<td style="text-align:left;">Wallpulsor</td>
	<td style="text-align:left;">Combination of Wall and Repulsor</td>
	<td style="text-align:left;">None</td>
</tr>
<tr>
	<td style="text-align:left;">No</td>
	<td style="text-align:left;">Integral</td>
	<td style="text-align:left;">FollowCam</td>
	<td style="text-align:left;">None, attached to Arrow</td>
	<td style="text-align:left;">FollowCam.cs</td>
</tr>
<tr>
	<td style="text-align:left;">Yes</td>
	<td style="text-align:left;">Integral</td>
	<td style="text-align:left;">HUD</td>
	<td style="text-align:left;">None</td>
	<td style="text-align:left;">HUD.cs</td>
</tr>
<tr>
	<td style="text-align:left;">No</td>
	<td style="text-align:left;">Non-Integral, Recommended</td>
	<td style="text-align:left;">Main Menu</td>
	<td style="text-align:left;">Unity Scene</td>
	<td style="text-align:left;">MainMenu.cs</td>
</tr>
<tr>
	<td style="text-align:left;">Partial</td>
	<td style="text-align:left;">Integral</td>
	<td style="text-align:left;">Three Base Levels</td>
	<td style="text-align:left;">Unity Scene</td>
	<td style="text-align:left;">None</td>
</tr>
<tr>
	<td style="text-align:left;">Partial</td>
	<td style="text-align:left;">Integral</td>
	<td style="text-align:left;">Combo Levels</td>
	<td style="text-align:left;">Unity Scene</td>
	<td style="text-align:left;">None</td>
</tr>
</tbody>
</table>
<h4>Further updates to be posted on 24 Oct. 2012</h4>

<p>&#8212; Overall Game Flow &#8212;
<img src="Images/OverallFlow.JPG" alt="Overall Game Flow" /> </p>

<p>&#8212;Player Detail (Ingame) Flow &#8212;
<img src="Images/PlayerFlow.JPG" alt="Player Flow" /> </p>

<h4>Script Details</h4>

<p>All classes need getters and possibly setters for the variables specified here. They should all handle variable mutation in methods that other classes can call. There should be no mutation being done by an outside class - everything needs to pass through the script in which the variables reside.</p>

<ul>
<li>Arrow.cs

<ul>
<li>Contains arrow attributes</li>
<li>Takes the player&#8217;s input:

<ol>
<li>Up/Down controls the rocket&#8217;s angle of attack. Uses fuel.</li>
<li>Space controls boost. Boost is active when depressed, inactive otherwise. Uses fuel.</li>
</ol></li>
</ul></li>
<li>ArrowAstAlt.cs

<ul>
<li>Alternate movement script - inherits from Arrow.cs. Based on Asteroids - style movement.</li>
</ul></li>
<li>ArrowStickyAlt.cs

<ul>
<li>Another alternate movement script, closer to what Josh has envisioned for the final game. For this script, you&#8217;ll need to extend Arrow and override Move(). The control scheme itself centers on the idea that the arrow should always &#8216;want&#8217; to move in the direction in which it was fired. The player should be able to &#8216;nudge&#8217; the arrow up and down, but it&#8217;ll return to the centerline in between nudges. It&#8217;s crucial that the arrow can be rotated in any direction and continue as if it were fired in that direction, otherwise GBodies won&#8217;t be able to rotate the Arrow properly. So make sure this is rotation-independent. <img src="Images/ArrowStickyAltConcept.JPG" alt="A Crude Diagram" /></li>
</ul></li>
<li>Bow.cs

<ul>
<li>This is a weapon script. It will be attached to the player prefab, not specifically instantiated. It needs to get mouse input to create a vector from the initial mouseDown vector to the final mouseDown vector, transform this vector to the player object, and instantiate an arrow at that position. Calls Player.DisableMovement() on firing an arrow.</li>
</ul></li>
<li>Player.cs

<ul>
<li>Takes the player&#8217;s input:

<ol>
<li>Up/Down moves the player up and down between certain bounds</li>
<li>bool canMove is set to false by Bow after an Arrow is fired; this locks the player&#8217;s movement until GM.Reset() is called.</li>
</ol></li>
</ul></li>
<li>Gravity.cs

<ul>
<li>This script dictates the behavior of a gravitational body in the game world. It attracts objects within a certain radius toward its center and destroys them upon contacting its surface. The model features green/yellow/red zones drawn radially around the object to indicate the strength of the gravitational pull at certain distances from the planet.</li>
</ul></li>
<li>Wall.cs

<ul>
<li>Attached to a collider that interacts physically with objects i.e. GravBodies and Wall</li>
<li>Calls Die() in any object that collides with the attached collider</li>
</ul></li>
<li>Target.cs

<ul>
<li>Calls GM.TargetHit() if hit by the Arrow</li>
</ul></li>
<li>Wormhole.cs

<ul>
<li>This script will be attached to the entrance of a wormhole object and will have a GameObject field to reference the exit object. Upon colliding with the wormhole entrance, the player will be teleported to the transform.position of the exit plus some offset (for our purposes, the wormhole objects will be spheres - use the radius for this offset).</li>
</ul></li>
<li>EnemyMissile.cs

<ul>
<li>Contains float damage, the amount of damage this missile does on impact</li>
<li>Moves the EnemyMissile forward along its axis a fixed amount each FixedUpdate()</li>
<li>Call Arrow.TakeDamage(float damage) upon colliding with it (must search for the Arrow in the OnCollisionEnter() method, keeping an object ref won&#8217;t work) - pass in this EnemyMissile&#8217;s damage field.</li>
</ul></li>
<li>EnemyMissileSpawner.cs

<ul>
<li>This script will go on an empty GO, which will then become an EnemyMissileSpawner. The script will need to instantiate EnemyMissiles in the direction of the spawner&#8217;s local x coordinate at random intervals. Start by implementing a fixed timer, and then add on a random functionality - design the code so that you can choose between a fixed or a random timer via the inspector (Use a public bool, then write the code to take that into accout). Have two class fields (also exposed to the inspector) that vary the times which can be randomly picked (Mathf.Random.Range(float min, float max)). Remember to count down to zero using Time.deltaTime, not up to infinity.</li>
<li>Contains a field bool isGuided which is true if this spawner shoots guided missiles, false otherwise</li>
<li>Create a method SpawnMissile() that Instantiates an EnemyMissile/SeekerMissile based on the value of isGuided in the direction of the spawner&#8217;s local +x coordinate.</li>
<li>In Update(), implement the randomized timer described above. When the timer reaches zero, call SpawnEnemyMissile(), then reset the timer to a new amount.</li>
</ul></li>
<li>Repulsor.cs

<ul>
<li>Attached to a trigger GO; adds a constant force in the direction of the transform&#8217;s positive x axis to any object within the trigger bounds.</li>
</ul></li>
<li>Wallpulsor

<ul>
<li>Combination of Repulsor and Wall objects; Repulsor on the +y side with its +x axis facing out, Wall on the -y side with its +x axis facing out.</li>
</ul></li>
<li>FollowCam.cs

<ul>
<li>Attached to the Arrow. Creates a second camera centered above the arrow which then follows the Arrow&#8217;s transform.position plus a public float followDist in the z direction (currently &#8211;5.0f).</li>
<li>Depressing [hotkey] switches to the main camera of the whole level, releasing switches back to the FollowCam. Use any hotkey for development, make sure you note it in the header comments.</li>
</ul></li>
<li>HUD.cs

<ul>
<li>This script will display certain fields of RocketAttributes.cs to the player via GUI textboxes. See <a href="http://www.youtube.com/watch?v=YYqzz1dy3Ak">here</a> for a good, simple approach to drawing a health bar. For this iteration we will need two bars, one to display fuel and one to display health.</li>
</ul></li>
<li>MainMenu.cs

<ul>
<li>This script will be attached to a Unity Scene that contains the the game title, credits, and buttons for each level that we have. See <a href="http://cgcookie.com/unity/2012/03/30/lunar-lander-05-gui-menus/">here</a> and <a href="http://purdyjotut.blogspot.com/2011/02/creating-game-in-unity-part-1-main-menu.html">here</a> for some good guides on setting up menus using Unity&#8217;s built-in elements. Consider implementing the pause menu from the UnityCookie tutorial if you feel you&#8217;ve got the time and the understanding.</li>
</ul></li>
</ul>

<h4>Object Details</h4>

<p>All objects aside from Arrow and Player will be Unity primitives. Rocket and Player will be built as such:</p>

<ul>
<li>Object (Empty GO) - Scripts attached here

<ul>
<li>ObjectModel</li>
</ul></li>
</ul>

<h4>Comms</h4>

<p>The target will communicate to the game manager when it&#8217;s been hit, and the rocket will do the same if it runs off the board and is destroyed. The game manager will then reset the game. Bow specifically instantiates the arrow upon releasing the mouse button. Enemy rockets will damage the arrow, and the arrow will destroy itself in the case that it has no health/fuel, informing the game manager to reset the game.</p>
    </div>
  </div> <!-- End wrapper -->
</body>
</html>